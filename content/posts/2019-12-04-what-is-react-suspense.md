---
title: 'مقدمة إلى React Suspense'
date: 2019-12-04
slug: 'web-development/what-is-react-suspense'
template: 'post'
categories:
  - برمجة
  - جافاسكريبت
tags:
  - React.js
thumbnail: '../thumbnails/react.png'
---

في [مؤتمر جافاسكريبت](https://www.youtube.com/watch?v=nLF0n9SACd4) (JsConf) الذي انعقد بإيسلندا عام 2018، قام المتحدث Dan Abramov - أحد المهندسين البارزين في فريق **React.js** - باستعراض ميزة جديدة يتم الإشتغال عليها لجعل العرض الغير متزامن للمكونات مهمة أسهل وأكثر تصريحية (More Declarative).

فكرة هذا النمط الجديد تكمن في إحاطة المكون الغير متزامن بمكون آخر سماه **دان أبراموف** آنذاك ب `Placeholder`. هذا الأخير يقبل خاصية اسمها `fallback` بحيث يتم عرض محتواها من طرف `<Placeholder />` في انتظار تحميل وتجهيز كافة البيانات الغير متزامنة التي يحتاجاها المكون المحاط.

بعد أكثر من عام على ذلك المؤتمر، تقدمت الأشغال كثيرا في هذا المشروع وأصبح يعرف باسم **React Suspense**. وإذا كنت من متابعي أخبار React.js فلا شك بأنك سمعت عن هذا المصطلح مرات عديدة في الشهور الأخيرة.

ومع كثرة الحديث عن **Suspense** يتساءل المرء عن سبب كل هذا الإهتمام بهذه الميزة الجديدة، وهل هي فعلا تستحق كل تلك الجلبة التي أحدثت حولها ؟

هذه التدوينة المفصلة ستجيبنا إن شاء الله على كل هذه الأسئلة، وسنعرف معا ماهية هذا الإسم الجديد في عالم React.js.

## توضيح لا بد منه

بسبب أهمية مشروع وفكرة React Suspense، فإن القائمين عليه قرروا تقسيمه إلى قسمين اثنين:

- قسم **يهتم فقط بالإستيراد الديناميكي** لمكونات React أو ما يعرف ب Dynamic Import، والغرض من هذا الجزء هو جعل الشفرة المصدرية للتطبيق صغيرة الحجم قدر المستطاع بحيث لا يتم تحميل أو تضمين الأكواد المسؤولة عن المكونات (Components) التي لا تظهر في واجهة المستخدم في ملف جافاسكريبت الرئيسي للموقع.

  Suspense سيتولى تحميل تلك الأكواد عند الحاجة فقط، أي عندما يحين الوقت لعرضها في User Interface، وذلك بالتعاون مع وظيفة أخرى من وظائف React وهي `React.lazy()`.

  تعرف هذه الخاصية ب **Code Splitting**.

  > هذا الجانب من React Suspense موجود ومدمج **بشكل رسمي** في مكتبة React.js منذ الإصدار 16.6، وسنرى بعد قليل كيفية عمله.

- الجانب الثاني من Suspense يهتم بعرض المكونات بعد أن تحصل على كافة البيانات التي تحتاج إليها. في انتظار وصول تلك البيانات يتم عرض مكون Fallback وهو في العادة يكون عبارة عن Loader لكي يفهم المستخدم أن هذا الجزء من واجهة المستخدم في طور التحميل.
  > هذا القسم الثاني من مشروع Suspense **مازال في طور التطوير والإختبار**، والواجهات البرمجية التي سنراها في هذا المقال قد تتغير بعد وصول الإصدار المستقر من React Suspense.

لكي ألخص ما سبق في كلمتين: القسم الأول من React Suspense والذي هو موجود الآن في إصدار React.js الرسمي يهتم فقط ب **Code Splitting**، بينما القسم الثاني يهتم ب **Data fetching** وهو كما قلت مازال قيد التجربة والتطوير.
